<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T√¥ Chegando Bar</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="icon" type="image/png" href="img/logo.png">

<link rel="manifest" href="/manifest.json">

<!-- iPhone -->
<link rel="apple-touch-icon" href="/apple-icon-180.png">

<meta name="theme-color" content="#000000">

<style>

/*TAMANHO CAMPO T√çTULO CATEGORIA*/
  .categoria h2 {
    cursor: pointer;
    margin: 0;
    padding: 10px;
    text-align: center;
  }

  .itens {
    height: 0;
    overflow: hidden;
    transition: height 0.3s ease, padding 0.3s ease;
    padding: 0 10px;
  }

  .itens.show {
    max-height: 1000px; /* altura suficiente para todos os itens */
    padding: 10px;
  }
  
  body {
    font-family: Arial, sans-serif;
    background: #000;
    margin: 0;
    padding: 15px;
    color: #fff;
  }

  .container {
    max-width: 500px;
    margin: auto;
    background: #111;
    color: #fff;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.4);
  }
  
/*ESPA√áO ENTRE LOGO E T√çTULO*/
  h1 {
    color: #ffcc00;
    margin-top: 10px;
    font-size: 1.8em;
  }
  
/*LOGO T√î CHEGANDO*/
  img.logo {
    width: 100px;
    max-width: 25vw;
  }
/*CAIXAS DE TEXTO*/
  input[type="text"] {
    width: 95%;
    padding: 10px;
    border-radius: 8px;
    border: none;
    margin-top: 5px;
    font-size: 1em;
  }


 /*SELE√á√ÉO DO N√öMERO DA MESA*/
  select {
  width: 250px;
  padding: 10px;
  font-size: 14px;
  font-family: Arial, sans-serif;
  color: #333;
  background-color: #f9f9f9;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
  appearance: none; /* Remove o estilo padr√£o do navegador */
  outline: none;
  transition: border-color 0.3s, box-shadow 0.3s;
}
  
/*BOT√ïES DE + E -*/
  button {
    width: 100%;
    padding: 12px;
    background: #25d366;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 10px;
  }
/*DIST√ÇNCIA ENTRE T√çTULOS DE CATEGORIA*/
  .categoria {
    margin-top: 25px;
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }

  /* Itens do card√°pio */
  .item {
    display: flex;
    align-items: center;
    background: rgba(0,0,0,0.4);
    margin: 10px 0;
    border-radius: 8px;
    overflow: hidden;
    gap: 10px; /*DIST√ÇNCIA ENTRE A DESCRI√á√ÉO E A IMAGEM*/
    
  }
/*TAMANHO DA IMAGEM DOS ITENS*/
  .item img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    flex-shrink: 0;
  }

  .item-info {
    flex: 1;
  }
  
  .campo-sabor {
    display: block;
    margin-top: 6px;
    padding: 5px;
    width: 100%;
    border-radius: 6px;
    border: 1px solid #ccc;
    background-color: #222;
    color: #fff;
  }
  
  .item-controles {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  #resumo {
    background: #1b1b1b;
    padding: 10px;
    border-radius: 10px;
  }

  /*DATA E HORA*/
  #clock {
    font-size: 25px;
    padding: 20px;
    font-family: Arial, sans-serif;
    justify-content: center;
    align-items: center;
    text-align:center;
  }

  .whatsapp-float {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #25d366;
    color: white;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 10px rgba(0,0,0,0.4);
    font-size: 30px;
    text-decoration: none;
  }

  /* RESPONSIVIDADE */
  @media (max-width: 400px) {
    .item {
      flex-wrap: wrap;
      justify-content: space-between;
    }

    .item img {
      width: 60px;
      height: 60px;
    }

    .item-controles {
      width: 100%;
      justify-content: flex-end;
      margin-top: 5px;
      }
        }
</style>

</head>

<body>
  <div class="container">
    <!-- LOGO -->
    <div style="text-align:center; margin-bottom:15px;">
      <img src="./Logo2.png" alt="Logo T√¥ Chegando Bar" class="logo">
      <h1>T√¥ Chegando Bar</h1>
      <p style="color:#ddd;">üçª Escolha seus itens e envie o pedido pelo WhatsApp!</p>
      <p style="color:#ddd;"> ‚ö†Ô∏èAplicativo exclusivo para atendimento presencial‚ö†Ô∏è</p>
    </div>
<div id="clock">Carregando...</div>

    <script>
        function updateClock() {
            const now = new Date();
            const options = {
                weekday: 'long', 
                year: 'numeric', 
                month: 'numeric', 
                day: 'numeric'
            };
            const date = now.toLocaleDateString('pt-BR', options);
            const time = now.toLocaleTimeString('pt-BR');
            document.getElementById('clock').innerHTML = `${date}<br>${time}`;
        }

        setInterval(updateClock, 1000);
        updateClock(); // inicializa ao carregar
    </script>

    <!-- CAMPO NOME -->
    <label style="display:block; margin-bottom:10px;">
      <span> Nome do cliente:</span>
      <input type="text" id="nomeCliente" placeholder="Digite seu nome">
      <p><p></p></p>
      <span> N√∫mero da mesa:</span>
<select style="display:block; margin-bottom:10px;" id="numMesa">
 
 <option value="" disabled selected>Selecione uma op√ß√£o</option>
  <option value="1">Mesa 1</option>
  <option value="2">Mesa 2</option>
  <option value="3">Mesa 3</option>
  <option value="4">Mesa 4</option>
  <option value="5">Mesa 5</option>
  <option value="6">Mesa 6</option>
  <option value="7">Mesa 7</option>
  <option value="8">Mesa 8</option>

  </select>    
    </label>

    <!-- MENU -->
    <div id="menu"></div>

    <hr style="border-color:#ff0000; margin:20px 0;">

    <!-- GORJETA -->
    <input type="checkbox" id="gorjeta" checked style="display:none;">
        
    <!-- RESUMO -->
    <div id="resumo" style="display:none;">
      <h3 style="color:#ffcc00;">üßæ Resumo do Pedido</h3>
      <div id="itensResumo"></div>
      <hr style="border-color:#444; margin:10px 0;">
      <p>üíµ Total pedido: <strong>R$ <span id="subtotal">0.00</span></strong></p>
      <p>üí∞ Valor taxa de servi√ßo (10%): <strong>R$ <span id="taxa">0.00</span></strong> (opcional)</p>
      <p>‚úÖ Total com taxa de servi√ßo: <strong style="color:#ffcc00;">R$ <span id="totalFinal">0.00</span></strong></p>
    </div>

    <!-- BOT√ÉO ENVIAR -->
   <button onclick="enviarPedido()">üì≤ Enviar pedido via WhatsApp</button>
    <button id="btnFecharConta">Solicitar fechamento da conta (WhatsApp)</button>
    <button onclick="imprimirPedido()" style="background-color: #555; margin-top: 10px;">üñ®Ô∏è Imprimir Pedido</button>
        <!--BOT√ÉO LIMPAR PEDIDO -->
    <button onclick="limparPedido()" style="background:#444; margin-top:15px;">
  üóëÔ∏è Limpar pedido
  </div>
  
<script>
const numero = "552420198207";

  const btn = document.getElementById('btnFecharConta');
    
    btn.addEventListener('click', () => {
  const texto = `Solicito fechamento da conta`;
  // usar whatsapp:// para abrir app se existir; fallback para web
  if (numero) {
    // abrir direto para n√∫mero
    const url = `https://wa.me/${numero}?text=${encodeURIComponent(texto)}`;
    window.open(url, '_blank');
  } else {
    // abrir apenas com texto (vai abrir WhatsApp Web ou app)
    const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(texto)}`;
    window.open(url, '_blank');
  }
});
  
// ========== PRODUTOS ==========
const produtos = [
   //CERVEJAS

        {
    nome: "Amstel",
    categoria: "Cervejas",
    img: "./cervejas/logo_amstel.png",
    opcoes: {
    "Litr√£o": 13.50,
    "600ml": 10,
    "Lat√£o 473ml": 8}
    },
    
    {
    nome: "Antarctica",
    categoria: "Cervejas",
    img: "./cervejas/logo_antarctica.png",
    opcoes: {
    "Litr√£o": 13.50,
    "600ml": 10,
    "300ml": 5,
    "Lat√£o 473ml": 8}
    },    
    
    {
    nome: "Bohemia",
    categoria: "Cervejas",
    img: "./cervejas/logo_bohemia.jpg",
    opcoes: {
    "300ml": 5,
    "Lat√£o 473ml": 8}
    },

    {
    nome: "Brahma",
    categoria: "Cervejas",
    img: "./cervejas/logo_brahma.png",
    opcoes: {
    "Litr√£o": 13.50,
    "600ml": 10,
    "300ml": 5,
    "Lat√£o 473ml": 8}
    },

    {
    nome: "Budweiser",
    categoria: "Cervejas",
    img: "./cervejas/logo_budweiser.png",
    opcoes: {
    "Litr√£o": 13.50,
    "600ml": 10,
    "300ml": 5,
    "Lat√£o 473ml": 8,
    "Long Neck": 9}
    },

    { nome: "Caracu", preco: 8, categoria: "Cervejas", img: "./cervejas/logo_caracu.jpg" },
    
    {
    nome: "Corona",
    categoria: "Cervejas",
    img: "./cervejas/logo_corona.png",
    opcoes: {
    "Long Neck": 10,
    "Lat√£o 473ml": 10}
    },
    
    { nome: "Corona Zero Alcool", preco: 10, categoria: "Cervejas", img: "./cervejas/logo_corona_zero.png" },
    { nome: "Heineken Zero Alcool", preco: 10, categoria: "Cervejas", img: "./cervejas/logo_hein_zero.png" },
    
    {
    nome: "Heineken",
    categoria: "Cervejas",
    img: "./cervejas/logo_heineken.png",
    opcoes: {
    "600ml": 16,
    "Long Neck": 10,
    "Lat√£o 473ml": 10}
    },
    
    {
    nome: "Imperio",
    categoria: "Cervejas",
    img: "./cervejas/logo_imperio.jpg",
    opcoes: {
    "600ml": 10,
    "300ml": 5,
    "Lat√£o 473ml": 7}
    },

    { nome: "Itaipava 300ml", preco: 5, categoria: "Cervejas", img: "./cervejas/logo_itaipava.png" },
    
    {
    nome: "Lokal",
    categoria: "Cervejas",
    img: "./cervejas/logo_lokal.png",
    opcoes: {
    "Litr√£o": 10,
    "600ml": 7,
    "Lat√£o 473ml": 5}
    },
    
    { nome: "Malzbier", preco: 8, categoria: "Cervejas", img: "./cervejas/logo_brah_malz.jpg" },
    
    {
    nome: "Original",
    categoria: "Cervejas",
    img: "./cervejas/logo_ant_original.png",
    opcoes: {
    "Litr√£o": 15,
    "600ml": 13,
    "300ml": 5,
    "Lat√£o 473ml": 10}
    },

    {
    nome: "Spaten",
    categoria: "Cervejas",
    img: "./cervejas/logo_spaten.jpg",
    opcoes: {
    "600ml": 13,
    "Lat√£o 473ml": 10,
    "Long Neck": 10}
    },

    {
    nome: "Stella Artois",
    categoria: "Cervejas",
    img: "./cervejas/logo_stella.png",
    opcoes: {
    "600ml": 14,
    "Lat√£o 473ml": 10,
    "Long Neck": 10}
    },

    
//REFRIGERANTES, SUCOS E √ÅGUAS

    { nome: "Refrigerante 200ml", preco: 3.50, categoria: "Refrigerantes", img: "./refrigerantes/refri_pet_200.jpeg", pedirSabor: true },
    { nome: "Refrigerante 350ml", preco: 6, categoria: "Refrigerantes", img: "./refrigerantes/refri_lata.png", pedirSabor: true },
    { nome: "Refrigerante 600ml", preco: 8, categoria: "Refrigerantes", img: "./refrigerantes/refri_600.jpeg", pedirSabor: true },
    { nome: "T√¥nica 350ml", preco: 6, categoria: "Refrigerantes", img: "./refrigerantes/logo_tonica.jpeg" },
    
    { nome: "Refrigerante 2 litros (exceto Coca Cola)", preco: 12, categoria: "Refrigerantes", img: "./refrigerantes/refri_2_ambev.jpg", pedirSabor: true },
    { nome: "Coca Cola 2 litros", preco: 15, categoria: "Refrigerantes", img: "./refrigerantes/logo_coca.jpeg", pedirSabor: true  },
    
    { nome: "Guaraviton", preco: 5, categoria: "Sucos", img: "./sucos/logo_guaraviton.png" },
    { nome: "H2OH 500ml", preco: 7, categoria: "Sucos", img: "./sucos/logo_h2oh.png" },
    { nome: "Suco de Uva lata", preco: 8, categoria: "Sucos", img: "./sucos/logo_suco_lata.jpg" },
    { nome: "Refresco copo", preco: 2, categoria: "Sucos", img: "./sucos/logo_ativ.jpg", pedirSabor: true },
    
    {
    nome: "√Ågua sem g√°s",
    categoria: "√Åguas",
    img: "./aguas/agua.jpg",
    opcoes: {
    "500ml": 3,
    "1,5 litro": 5} 
    },     
     
    { nome: "√Ågua com g√°s 500ml", preco: 4.00, categoria: "√Åguas", img: "./aguas/agua.jpg" },
    { nome: "√Ågua de Coco caixinha", preco: 5.00, categoria: "√Åguas", img: "./aguas/agua_coco.jpeg" },
    
//DESTILADOS
    { nome: "51 - dose", preco: 5.00, categoria: "Destilados", img: "./destilados/logo_51.png" },
    { nome: "Alcatr√£o - dose", preco: 5.00, categoria: "Destilados", img: "./destilados/logo_alcatrao.png" },  
    { nome: "Amarula - c√°lice", preco: 10.00, categoria: "Destilados", img: "./destilados/marula.png" },
    { nome: "Bananinha - dose", preco: 6.00, categoria: "Destilados", img: "./destilados/bananinha.png" },
    { nome: "Campari - dose", preco: 15.00, categoria: "Destilados", img: "./destilados/campari.jpg" },
    { nome: "Canelinha - dose", preco: 5.00, categoria: "Destilados", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Catuaba Selvagem - dose", preco: 5.00, categoria: "Destilados", img: "./destilados/catuaba.png" },
    { nome: "Contini - dose", preco: 7.00, categoria: "Destilados", img: "./destilados/contini.png" },
    
    {
    nome: "Domecq",
    categoria: "Destilados",
    img: "./destilados/domecq.jpg",
    opcoes: {
    "Tirinho": 4,
    "Dose": 7} 
    }, 
    
    {
    nome: "Dona V√¢nia",
    categoria: "Destilados",
    img: "./destilados/vania.jpeg",
    opcoes: {
    "Tirinho": 5,
    "Dose": 9} 
    },  
    
    {
    nome: "Dreher",
    categoria: "Destilados",
    img: "./destilados/dreher.png",
    opcoes: {
    "Tirinho": 3,
    "Dose": 5} 
    }, 
    
    {
    nome: "Fogo Paulista",
    categoria: "Destilados",
    img: "./destilados/paulista.webp",
    opcoes: {
    "Tirinho": 4,
    "Dose": 7} 
    },           
        
    { nome: "Gim - dose", preco: 10.00, categoria: "Destilados", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Jeropiga - dose", preco: 6.00, categoria: "Destilados", img: "./destilados/jeropiga.webp" },
    { nome: "Jurubeba - dose", preco: 6.00, categoria: "Destilados", img: "./destilados/jurubeba.jpeg" },
    { nome: "Malibu - dose", preco: 5.00, categoria: "Destilados", img: "./destilados/malibu.png" },
    { nome: "Mel - dose", preco: 5.00, categoria: "Destilados", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Menta - dose", preco: 5.00, categoria: "Destilados", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Paratudo - dose", preco: 5.00, categoria: "Destilados", img: "./destilados/paratudo.webp" },
    { nome: "Rum Montilla - dose", preco: 7.00, categoria: "Destilados", img: "./destilados/rum.jpeg" },
    
    {
    nome: "Seleta",
    categoria: "Destilados",
    img: "./destilados/seleta.png",
    opcoes: {
    "Tirinho": 5,
    "Dose": 9} 
    }, 
    
    {
    nome: "Smirnoff",
    categoria: "Destilados",
    img: "./destilados/smirnoff.jpg",
    opcoes: {
    "Tirinho": 5,
    "Dose": 10} 
    },           
    
    {
    nome: "Steinhager",
    categoria: "Destilados",
    img: "./destilados/stein.jpg",
    opcoes: {
    "Tirinho": 5,
    "Dose": 10} 
    },      


    { nome: "Tequila - dose", preco: 15.00, categoria: "Destilados", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Trassado - dose", preco: 5.00, categoria: "Destilados", img: "./sem_imagem/sem_foto.jpg", pedirSabor: true  },
    { nome: "Velho Barreiro - dose", preco: 5.00, categoria: "Destilados", img: "./destilados/velho.webp" },

    {
    nome: "Whisky Ballantines (8 anos)",
    categoria: "Destilados",
    img: "./destilados/ball.jpg",
    opcoes: {
    "Tirinho": 10,
    "Dose": 18} 
    },
    
    {
    nome: "Whisky Red Label (8 anos)",
    categoria: "Destilados",
    img: "./destilados/red.webp",
    opcoes: {
    "Tirinho": 10,
    "Dose": 18} 
    },
    
    {
    nome: "Whisky White Horse (8 anos)",
    categoria: "Destilados",
    img: "./destilados/white.webp",
    opcoes: {
    "Tirinho": 10,
    "Dose": 18} 
    },
    
    {
    nome: "Ypioca",
    categoria: "Destilados",
    img: "./destilados/ypioca.webp",
    opcoes: {
    "Tirinho": 3,
    "Dose": 6} 
    },                
    
    
//ENERG√âTICOS
    { nome: "Red Bull Lata", preco: 13.00, categoria: "Energ√©ticos", img: "./energeticos/logo_redbull.png" },
    
    {
    nome: "TNT",
    categoria: "Energ√©ticos",
    img: "./energeticos/logo_tnt.jpg",
    opcoes: {
    "Lata": 10,
    "Lat√£o": 13} 
    },     

    { nome: "2 litros", preco: 15.00, categoria: "Energ√©ticos", img: "./sem_imagem/sem_foto.jpg" },

//VINHOS
    { nome: "Copo de vinho", preco: 8.00, categoria: "Vinhos", img: "./vinhos/americano.webp", pedirSabor: true },
    { nome: "Ta√ßa de vinho", preco: 12.00, categoria: "Vinhos", img: "./vinhos/taca.webp", pedirSabor: true },
   
    {
    nome: "Cantina da Serra",
    categoria: "Vinhos",
    img: "./vinhos/cantina.png",
    opcoes: {
    "880ml": 12,
    "1,5 litro": 20} 
    }, 
    
    { nome: "Galiotto 1 litro", preco: 40.00, categoria: "Vinhos", img: "./vinhos/gali_suave.png", pedirSabor: true },
    { nome: "Garrafa Vinho Reserva 750ml", preco: 50.00, categoria: "Vinhos", img: "./sem_imagem/sem_foto.jpg", pedirSabor: true },
  

//DRINKS
    { nome: "Alexander (Domecq, licor de cacau, creme de leite e canela em p√≥)", preco: 18.00, categoria: "Drinks", img: "./drinks/alexander.jpg" },
    { nome: "Batida - consultar sabores", preco: 5.00, categoria: "Drinks", img: "./drinks/batidas.jpeg", pedirSabor: true },
    { nome: "Caipirinha Lim√£o (Cacha√ßa)", preco: 15.00, categoria: "Drinks", img: "./drinks/caipi.jpg" },
    { nome: "Caipivodka Lim√£o (Vodka)", preco: 18.00, categoria: "Drinks", img: "./drinks/caipi.jpg" },
    { nome: "Cuba Libre (Coca Cola, gelo, lim√£o e rum)", preco: 15.00, categoria: "Drinks", img: "./drinks/cuba.jpg" },

//OUTROS
    { nome: "Chopp de Vinho", preco: 12.00, categoria: "Drinks", img: "./drinks/pink.png" },
    { nome: "Skol Beats", preco: 12.00, categoria: "Drinks", img: "./drinks/logo_sk_beats.jpg" },
    { nome: "Ice Syn", preco: 5.00, categoria: "Drinks", img: "./drinks/logo_ice_syn.png" },
    { nome: "Ice Kovak (ou similar)", preco: 10.00, categoria: "Drinks", img: "./drinks/logo_ice_kovak.png" },
    
    
//POR√á√ïES     
    { nome: "Adicional de Bacon ou Cheedar ou Catupiry", preco: 5, categoria: "Por√ß√µes", img: "./sem_imagem/sem_foto.jpg", pedirSabor: true },
    { nome: "Azeitona", preco: 12, categoria: "Por√ß√µes", img: "./sem_imagem/sem_foto.jpg" },

    
    { 
    nome: "Aipim Frito",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 19.90,
    "Grande": 29.90}
    },
    
    { 
    nome: "Aipim com Calabresa",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 25.90,
    "Grande": 43.90}
    },

    { 
    nome: "Aipim com Carne Seca",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 29.90,
    "Grande": 44.90}
    },
    
    {
    nome: "Batata Frita",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 15.00,
    "Grande": 29.90}
    },  
    
    {
    nome: "Batata Frita com Bacon e Cheedar",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 24.90,
    "Grande": 39.90}
    },
    
    {
    nome: "Batata Frita com Calabresa",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 29.90,
    "Grande": 44.90}
    },
    
    {
    nome: "Batata Frita com Carne Seca",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 29.90,
    "Grande": 44.90}
    },   
    
    {
    nome: "Batata Frita com Cheedar ou Catupiry",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 19.90,
    "Grande": 34.90}
    },
                       
    {
    nome: "Alcatra acebolada ou com alho",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 43.90,
    "Grande": 69.90}
    },
    
    {
    nome: "Calabresa acebolada",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 24.90,
    "Grande": 39.90}
    },
    
    {
    nome: "Cora√ß√£o acebolado",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 35.90,
    "Grande": 63.90}
    },
    
    {
    nome: "Fil√© de frango acebolado ou com alho",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 28.90,
    "Grande": 55.90}
    },
    
    {
    nome: "Lingui√ßa mineira acebolada",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 24.90,
    "Grande": 44.90}
    },     
    
    {
    nome: "Mista (carne bovina, lingui√ßa, frango e batata)",
    categoria: "Por√ß√µes",
    img: "./sem_imagem/sem_foto.jpg",
    opcoes: {
    "Pequena": 53.90,
    "Grande": 73.90}
    },
    
    { nome: "Salgadinhos - 10 unidades sortidos", preco: 10, categoria: "Por√ß√µes", img: "./sem_imagem/sem_foto.jpg" },

//ESPETINHOS
    { nome: "Espetinho de carne", preco: 11, categoria: "Espetinhos", img: "./espetinhos/espetinho_carne.png" },
    { nome: "Espetinho de carne com bacon", preco: 11, categoria: "Espetinhos", img: "./espetinhos/espetinho_carne.png" },
    { nome: "Espetinho de cora√ß√£o", preco: 10, categoria: "Espetinhos", img: "./espetinhos/espetinho_coracao.jpg" },
    { nome: "Espetinho de frango", preco: 9, categoria: "Espetinhos", img: "./espetinhos/espetinhos.png" },
    { nome: "Espetinho de frango com bacon", preco: 9, categoria: "Espetinhos", img: "./espetinhos/espetinhos.png" },
    { nome: "Salsich√£o", preco: 9, categoria: "Espetinhos", img: "./espetinhos/salsichao.png" },
    
//INDIVIDUAIS

    { nome: "Caldos", preco: 13.90, categoria: "Individuais", img: "./individuais/caldos.jpg", pedirSabor: true  },                 
    { nome: "Empadinha", preco: 5, categoria: "Individuais", img: "./individuais/empada.jpeg", pedirSabor: true },

    
    { nome: "Pastel de Queijo", preco: 7.00, categoria: "Individuais", img: "./individuais/pasteis.png" },
    { nome: "Pastel de Carne", preco: 7.00, categoria: "Individuais", img: "./individuais/pasteis.png" },        
    { nome: "Pastel de Carne Seca", preco: 7.00, categoria: "Individuais", img: "./individuais/pasteis.png" },     
    { nome: "Tapa na Cara", preco: 6, categoria: "Individuais", img: "./sem_imagem/sem_foto.jpg" },
  
    { nome: "Queijo Mussarela em Conserva", preco: 4, categoria: "Individuais", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Queijo Provolone em Conserva", preco: 5, categoria: "Individuais", img: "./sem_imagem/sem_foto.jpg" },            

//DIVERSOS    
    { nome: "Amendoim Grelhaditos", preco: 2, categoria: "Diversos", img: "./diversos/grelhaditos.png" },
    { nome: "Amendoim Japon√™s", preco: 2, categoria: "Diversos", img: "./diversos/japones.jpg" },
    { nome: "Bala Hortel√£ - unidade", preco: 0.20, categoria: "Diversos", img: "./diversos/hortela.webp" },
    { nome: "Bala Macia - unidade", preco: 0.20, categoria: "Diversos", img: "./diversos/macia.jpg" },
    { nome: "Barra de Chocolate", preco: 10, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Batata Chips", preco: 4, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Batata Gulao", preco: 4, categoria: "Diversos", img: "./diversos/batgul.webp" },
    { nome: "Biscoito Salgadinho Camar√£o", preco: 3.50, categoria: "Diversos", img: "./diversos/salcam.webp" },
    { nome: "Biscoito Recheado", preco: 5, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg", pedirSabor: true },
    { nome: "Bombom", preco: 2, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Bubaloo", preco: 0.50, categoria: "Diversos", img: "./diversos/bubaloo.jpg" },
    { nome: "Chiclets", preco: 0.50, categoria: "Diversos", img: "./diversos/chiclets.png" },
    { nome: "Chocolate Baton", preco: 2.50, categoria: "Diversos", img: "./diversos/baton.jpeg" },
    { nome: "Chocolate Trento", preco: 3.50, categoria: "Diversos", img: "./diversos/trento.jpeg", pedirSabor: true },
    { nome: "Chocolate KitKat", preco: 6.00, categoria: "Diversos", img: "./diversos/kit.jpeg", pedirSabor: true },
    { nome: "Chokito", preco: 4.50, categoria: "Diversos", img: "./diversos/chokito.jpg" },
    { nome: "Doce de Ab√≥bora", preco: 2.50, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Doce de Amendoim", preco: 3, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Halls", preco: 2.50, categoria: "Diversos", img: "./diversos/halls.webp",pedirSabor: true },
    { nome: "Jujuba", preco: 1, categoria: "Diversos", img: "./diversos/jujuba.webp" },
    { nome: "Mariola", preco: 1.50, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Mentos", preco: 3.50, categoria: "Diversos", img: "./diversos/mentos.jpeg", pedirSabor: true },
    { nome: "Pa√ßoca", preco: 0.50, categoria: "Diversos", img: "./diversos/pacoca.webp" },
    { nome: "Pastilha de Menta", preco: 2, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Pingo Bel", preco: 3, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Pirulito", preco: 1, categoria: "Diversos", img: "./diversos/pirulito.jpg" },
    { nome: "Salgadinhos Elma Chips", preco: 6, categoria: "Diversos", img: "./diversos/elma.jpg", pedirSabor: true },
    { nome: "Salgadinhos Torcida", preco: 3.50, categoria: "Diversos", img: "./diversos/torcida.png", pedirSabor: true },
    { nome: "Torresmo pacote", preco: 5, categoria: "Diversos", img: "./sem_imagem/sem_foto.jpg" },
    { nome: "Sufflair", preco: 8, categoria: "Diversos", img: "./diversos/sufflair.jpeg" },
    { nome: "Trident", preco: 3, categoria: "Diversos", img: "./diversos/trident.jpg", pedirSabor: true },
    
//CIGARROS    
    { nome: "Black", preco: 25, categoria: "Cigarros", img: "./cigarros/black.jpg" },
    { nome: "Camel", preco: 8.75, categoria: "Cigarros", img: "./cigarros/camel.jpg", pedirSabor: true },
    { nome: "Camel Kretek", preco: 14.75, categoria: "Cigarros", img: "./cigarros/camel_kretek.jpg", pedirSabor: true },
    { nome: "Cigarro de Palha Ma√ßo", preco: 15, categoria: "Cigarros", img: "./cigarros/palha.jpg" },
    { nome: "Cigarro Egipt", preco: 6, categoria: "Cigarros", img: "./cigarros/egipt.jpg" },
    { nome: "Dunhill Double Refresh", preco: 14, categoria: "Cigarros", img: "./cigarros/dunhill_double_refresh.jpg" },
    { nome: "Dunhill", preco: 14, categoria: "Cigarros", img: "./cigarros/dunhill.jpg", pedirSabor: true },
    { nome: "Dunhill On", preco: 11.25, categoria: "Cigarros", img: "./cigarros/dunhill_on.jpg", pedirSabor: true },
    { nome: "Gudan Garan", preco: 30, categoria: "Cigarros", img: "./cigarros/gudang.webp" },
    { nome: "Kent", preco: 11.50, categoria: "Cigarros", img: "./cigarros/kent.jpg", pedirSabor: true },
    { nome: "Luck Strike", preco: 11.25, categoria: "Cigarros", img: "./cigarros/lucky_orig.jpg", pedirSabor: true },
    { nome: "Luck Strike Double", preco: 11.75, categoria: "Cigarros", img: "./cigarros/lucky_doub.jpg" },
    { nome: "Luck Strike Fresh", preco: 11.50, categoria: "Cigarros", img: "./cigarros/lucky_fresh.jpg", pedirSabor: true  },
    { nome: "Luck Strike Patterson", preco: 7.50, categoria: "Cigarros", img: "./cigarros/lucky_pat.jpg", pedirSabor: true  },
    { nome: "Marlboro", preco: 12.50, categoria: "Cigarros", img: "./cigarros/marlboro.jpg", pedirSabor: true  },
    { nome: "Marlboro Vista", preco: 11.75, categoria: "Cigarros", img: "./cigarros/marb_vista.jpg", pedirSabor: true },
    { nome: "Marlboro Ice Burst", preco: 14, categoria: "Cigarros", img: "./cigarros/marb_ice.jpg" },
    { nome: "Marlboro Selection", preco: 7.75, categoria: "Cigarros", img: "./cigarros/malrb_selec.jpg", pedirSabor: true  },
    { nome: "Rothmans", preco: 9.25, categoria: "Cigarros", img: "./cigarros/rothmans.jpg", pedirSabor: true  },
    { nome: "Rothmans Global", preco: 7.50, categoria: "Cigarros", img: "./cigarros/roth_glob.jpg", pedirSabor: true  },
    { nome: "Sampoerna", preco: 16, categoria: "Cigarros", img: "./cigarros/sampo.jpg", pedirSabor: true  },
    
    {
    nome: "Seda",
    categoria: "Cigarros",
    img: "./cigarros/seda.jpg",
    opcoes: {
    "Unidade": 1,
    "Caixinha": 5}
    },    
 
    { nome: "Tabaco", preco: 17.90, categoria: "Cigarros", img: "./cigarros/tabaco.jpg" },
    { nome: "Winston", preco: 7.75, categoria: "Cigarros", img: "./cigarros/winston.jpg", pedirSabor: true  },
    
//ISQUEIROS
    { nome: "F√≥sforo", preco: 1, categoria: "Cigarros", img: "./cigarros/fosforo.png"  },
    
    {
    nome: "Isqueiro",
    categoria: "Cigarros",
    img: "./cigarros/chama.jpeg",
    opcoes: {
    "Chama": 4,
    "Bic Mini": 6,
    "Bic Maxi": 8}
    },
   
//BINGO
    { nome: "Bingo - R$ 1,00", preco: 1, categoria: "Bingo", img: "./bingo/bingo.webp" },
    { nome: "Bingo - R$ 1,50", preco: 1.50, categoria: "Bingo", img: "./bingo/bingo.webp" },
    { nome: "Bingo - R$ 2,00", preco: 2, categoria: "Bingo", img: "./bingo/bingo.webp" },
    { nome: "Bingo - R$ 3,00", preco: 3, categoria: "Bingo", img: "./bingo/bingo.webp" },
    { nome: "Bingo - R$ 4,00", preco: 4, categoria: "Bingo", img: "./bingo/bingo.webp" },

];


let carrinho = [];

//FUN√á√ÉO QUE OBRIGA USU√ÅRIO A ESCOLHER ITEM ANTES DE CLICAR EM + OU -
function validarEscolhaObrigatoria(produto) {
  const idSabor = `sabor-${produto.nome.replace(/\s/g, '')}`;
  const campoSabor = document.getElementById(idSabor);

  // Produto possui sabores ou tamanhos?
  const exigeEscolha = produto.pedirSabor || produto.opcoes;

  if (exigeEscolha) {
    if (!campoSabor || !campoSabor.value.trim()) {
      alert("Por favor, selecione a op√ß√£o antes de adicionar ou remover este item!");
      return false;
    }
  }
  return true;
}

// ========== FUN√á√ïES AUXILIARES ==========

function gerarChave(produto, sabor = "") {
  return sabor ? `${produto.nome}-${sabor}` : produto.nome;
}

// ========== ADICIONAR ITEM ==========
function adicionar(nomeProduto) {
  const produto = produtos.find(p => p.nome === nomeProduto);
  if (!produto) return;
  if (!validarEscolhaObrigatoria(produto)) return;

  const idQtd = `qtd-${produto.nome.replace(/\s/g, '')}`;
  const idSabor = `sabor-${produto.nome.replace(/\s/g, '')}`;
  const campoSabor = document.getElementById(idSabor);
  const saborEscolhido = campoSabor ? campoSabor.value.trim() : "";

  const chave = gerarChave(produto, saborEscolhido);
  const item = carrinho.find(i => i.chave === chave);

  if (item) {
    item.qtd++;
  } else {
    carrinho.push({
      chave,
      nome: produto.nome,
      //preco: produto.preco,
      preco: produto.opcoes ? produto.opcoes[saborEscolhido] : produto.preco,

      categoria: produto.categoria,
      sabor: saborEscolhido,
      qtd: 1
    });
  }

  atualizarResumo();
  atualizarQuantidades();
}

// ========== REMOVER ITEM ==========
function remover(nomeProduto) {
  const produto = produtos.find(p => p.nome === nomeProduto);
  if (!produto) return;
  if (!validarEscolhaObrigatoria(produto)) return;

  const idSabor = `sabor-${produto.nome.replace(/\s/g, '')}`;
  const campoSabor = document.getElementById(idSabor);
  const saborEscolhido = campoSabor ? campoSabor.value.trim() : "";

  const chave = gerarChave(produto, saborEscolhido);
  const index = carrinho.findIndex(i => i.chave === chave);

  if (index !== -1) {
    carrinho[index].qtd--;
    if (carrinho[index].qtd <= 0) carrinho.splice(index, 1);
  }

  atualizarResumo();
  atualizarQuantidades();
}

// ========== ATUALIZAR QUANTIDADES ==========
function atualizarQuantidades() {
  produtos.forEach(p => {
    const idQtd = `qtd-${p.nome.replace(/\s/g, '')}`;
    const span = document.getElementById(idQtd);
    const idSabor = `sabor-${p.nome.replace(/\s/g, '')}`;
    const campoSabor = document.getElementById(idSabor);
    const sabor = campoSabor ? campoSabor.value.trim() : "";

    const chave = gerarChave(p, sabor);
    const item = carrinho.find(i => i.chave === chave);

    if (span) span.textContent = item ? item.qtd : 0;
  });
}

// ========== ATUALIZAR RESUMO ==========
function atualizarResumo() {
  const resumoDiv = document.getElementById("resumo");
  const itensResumo = document.getElementById("itensResumo");
  const subtotalEl = document.getElementById("subtotal");
  const taxaEl = document.getElementById("taxa");
  const totalFinalEl = document.getElementById("totalFinal");

  if (carrinho.length === 0) {
    resumoDiv.style.display = "none";
    return;
  }

  resumoDiv.style.display = "block";

  let subtotal = 0;
  let grupos = { Bebidas: "", Petiscos: "", Cigarros: "", Diversos: "", Bingo: "" };

  carrinho.forEach(item => {
    const totalItem = item.preco * item.qtd;
    subtotal += totalItem;

    const linha = `‚Ä¢ ${item.nome}${item.sabor ? ` (${item.sabor})` : ""} (${item.qtd}x) - R$ ${totalItem.toFixed(2)}<br>`;

    if (["Cervejas","Sucos","Refrigerantes","√Åguas","Drinks","Energ√©ticos","Vinhos","Destilados"].includes(item.categoria))
      grupos.Bebidas += linha;
    else if (["Espetinhos","Individuais","Por√ß√µes"].includes(item.categoria))
      grupos.Petiscos += linha;
    else if (item.categoria === "Cigarros")
      grupos.Cigarros += linha;
    else if (item.categoria === "Bingo")
      grupos.Bingo += linha;
    else
      grupos.Diversos += linha;
  });

  itensResumo.innerHTML = `
    ${grupos.Bebidas ? "<h4>Bebidas</h4>" + grupos.Bebidas : ""}
    ${grupos.Petiscos ? "<h4>Petiscos</h4>" + grupos.Petiscos : ""}
    ${grupos.Cigarros ? "<h4>Cigarros</h4>" + grupos.Cigarros : ""}
    ${grupos.Diversos ? "<h4>Diversos</h4>" + grupos.Diversos : ""}
    ${grupos.Bingo ? "<h4>Bingo</h4>" + grupos.Bingo : ""}
  `;

  const taxa = document.getElementById("gorjeta").checked ? subtotal * 0.1 : 0;
  const totalFinal = subtotal + taxa;

  subtotalEl.textContent = subtotal.toFixed(2);
  taxaEl.textContent = taxa.toFixed(2);
  totalFinalEl.textContent = totalFinal.toFixed(2);
}
//LIMPAR, ZERAR PEDIDO
function limparPedido() {
  if (!confirm("Tem certeza que deseja limpar todo o pedido?")) return;

  carrinho = []; // limpa todos os itens do carrinho
  atualizarResumo(); // esconde o resumo
  atualizarQuantidades(); // zera os contadores visuais

  // limpa campos de sele√ß√£o de sabor/tamanho
  produtos.forEach(p => {
    const idSabor = `sabor-${p.nome.replace(/\s/g, '')}`;
    const campoSabor = document.getElementById(idSabor);
    if (campoSabor) campoSabor.value = "";
  });

  alert("Pedido zerado com sucesso!");
}


// ========== ENVIAR PEDIDO ==========
function enviarPedido() {
  const dataHora = new Date().toLocaleString("pt-BR", {
  dateStyle: "short",
  timeStyle: "medium"
});
  const nomeCliente = document.getElementById("nomeCliente").value.trim();
  if (!nomeCliente) return alert("Por favor, digite o nome do cliente antes de enviar o pedido!");
  const numMesa = document.getElementById("numMesa").value.trim();
  if (!numMesa) return alert("Por favor, digite o n√∫mero da mesa antes de enviar o pedido!");
  if (carrinho.length === 0) return alert("Selecione pelo menos um item!");

  let mensagem = `*Pedido - T√¥ Chegando Bar* %0ACliente: *${nomeCliente}* %0AMesa: *${numMesa}*%0AData do Pedido: *${dataHora}*%0A%0A`;
  let subtotal = 0;
  let grupos = { Bebidas: "", Petiscos: "", Cigarros: "", Diversos: "", Bingo: "" };

  carrinho.forEach(item => {
    const total = item.preco * item.qtd;
    subtotal += total;
    const linha = `‚Ä¢ ${item.nome}${item.sabor ? ` (${item.sabor})` : ""} (${item.qtd}x) - R$ ${total.toFixed(2)}%0A`;

    if (["Cervejas","Sucos","Refrigerantes","√Åguas","Drinks","Energ√©ticos","Vinhos","Destilados"].includes(item.categoria))
      grupos.Bebidas += linha;
    else if (["Espetinhos","Individuais","Por√ß√µes"].includes(item.categoria))
      grupos.Petiscos += linha;
    else if (item.categoria === "Cigarros")
      grupos.Cigarros += linha;
    else if (item.categoria === "Bingo")
      grupos.Bingo += linha;
    else
      grupos.Diversos += linha;
  });

  for (let sec in grupos) {
    if (grupos[sec]) mensagem += `*${sec}*%0A${grupos[sec]}%0A`;
  }

  const taxa = document.getElementById("gorjeta").checked ? subtotal * 0.1 : 0;
  const totalFinal = subtotal + taxa;

  mensagem += `*Total pedido:* R$ ${subtotal.toFixed(2)}%0A`;
  mensagem += `*Taxa de servi√ßo opcional (10%):* R$ ${taxa.toFixed(2)}%0A`;
  mensagem += `*Total com taxa:* R$ ${totalFinal.toFixed(2)}%0A%0APedido Enviado!!!`;

  window.open(`https://wa.me/${numero}?text=${mensagem}`, "_blank");
}

// LISTA DE SABORES POR PRODUTO
const opcoesDeSabor = {
//REFRIGERANTES SUCOS E AGUAS
  "Refrigerante 200ml": ["Coca Cola", "Coca Zero", "Guaran√°", "Pepsi", "Outro"],
  "Refrigerante 350ml": ["Coca Cola", "Coca Zero", "Guaran√°", "Pepsi", "Outro"],
  "Refrigerante 600ml": ["Coca Cola", "Coca Zero"],
  "Refrigerante 2 litros (exceto Coca Cola)": ["Guaran√°", "Guaran√° Zero", "Pepsi", "Mineirinho", "Soda", "Fanta Laranja", "Fanta Uva"],
  "Refresco copo": ["Guaran√°", "Guaran√° com A√ßa√≠", "Laranja com Acerola"],  
  "Coca Cola 2 litros": ["Comum", "Zero"],
  
//VINHOS
  "Copo de vinho": ["Seco", "Suave"],
  "Ta√ßa de vinho": ["Seco", "Suave"],
  "Garrafa Vinho Reserva 750ml": ["Seco", "Suave"],
  "Galiotto 1 litro": ["Seco", "Suave"],

//INDIVIDUAIS
  "Caldos": ["Ervilha", "Abobora", "Feijao", "Canjiquinha"],
  
//DIVERSOS
  "Biscoito Recheado": ["Chocolate", "Morango", "Limao", "Brigadeiro"],
  "Batata Gulao": ["Tradicional", "Churrasco", "Cebola"],
  "Trident": ["Menta", "Hortel√£", "Melancia", "Morango", "Outro - consultar"],
  
//CIGARROS
  "Camel": ["Amarelo", "Azul"],
  "Camel Kretek": ["Berry", "Menthol"],
  "Dunhill": ["Vermelho", "Azul"],  
  "Dunhill On": ["Vermelho", "Azul"],
  "Kent": ["Vermelho", "Azul", "Prata"],
  "Luck Strike": ["Vermelho", "Azul"],
  "Luck Strike Fresh": ["Verde", "Azul"],
  "Luck Strike Patterson": ["Vermelho", "Azul"],
  "Marlboro": ["Red", "Gold"],
  "Marlboro Vista": ["Double Fusion", "Purple"],
  "Marlboro Selection": ["Red", "Gold", "Blue"],
  "Rothmans": ["Vermelho", "Azul"],
  "Rothmans Global": ["Azul", "Azul"],
  "Sampoerna": ["Menta", "Cravo"],
  "Winston": ["Amarelo", "Azul"],
  
  
  "Adicional de Bacon ou Cheedar ou Catupiry": ["Bacon", "Cheedar", "Catupiry"],
  // Voc√™ pode adicionar mais aqui:
  // "Produto X": ["Sabor 1", "Sabor 2"]
};


// ========== GERAR MENU ==========
function gerarMenu() {
  const categorias = [
    { nome: "Cervejas", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "Refrigerantes", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "Sucos", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "√Åguas", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "Energ√©ticos", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },        
    { nome: "Drinks", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "Vinhos", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "Destilados", gradiente: "linear-gradient(135deg, #1e2a3a, #334d66)" },
    { nome: "Por√ß√µes", gradiente: "linear-gradient(135deg, #3a2a1e, #665134)" },
    { nome: "Espetinhos", gradiente: "linear-gradient(135deg, #3a2a1e, #665134)" }, 
    { nome: "Individuais", gradiente: "linear-gradient(135deg, #3a2a1e, #665134)" },                   
    { nome: "Diversos", gradiente: "linear-gradient(135deg, #3a2a1e, #665134)" },
    { nome: "Cigarros", gradiente: "linear-gradient(135deg, #2d2d2d, #4f4f4f)" },
    { nome: "Bingo", gradiente: "linear-gradient(135deg, #2aa35b, #19883f)" }
  ];

  const menuDiv = document.getElementById("menu");
  let html = "";

  categorias.forEach(cat => {
    const itens = produtos.filter(p => p.categoria === cat.nome);
    if (itens.length > 0) {
      html += `<div class="categoria" style="background:${cat.gradiente};">
        <h2 style="color:#ffcc00;">${cat.nome}</h2>
        <div class="itens">`;

      itens.forEach(p => {
        const idQtd = `qtd-${p.nome.replace(/\s/g, '')}`;
        const idSabor = `sabor-${p.nome.replace(/\s/g, '')}`;
        html += `
        <div class="item">
          <img src="${p.img}" alt="${p.nome}">
          <div class="item-info">
            <div style="font-weight:bold;">${p.nome}</div>
            ${p.opcoes
  ? `<div style="color:#ffcc00;">Selecione o tamanho</div>`
  : `<div style="color:#ffcc00;">R$ ${p.preco.toFixed(2)}</div>`
}

${p.pedirSabor ? (
  opcoesDeSabor[p.nome]
    ? `<select id="${idSabor}" class="campo-sabor">
         <option value="" disabled selected>Selecione...</option>
         ${opcoesDeSabor[p.nome].map(s => `<option value="${s}">${s}</option>`).join("")}
       </select>`
    : `<input type="text" id="${idSabor}" class="campo-sabor" placeholder="Digite a op√ß√£o escolhida">`
) : ""}

${p.opcoes ? `
<select id="${idSabor}" class="campo-sabor">
  <option value="" disabled selected>Escolha o tamanho...</option>
  ${Object.keys(p.opcoes).map(tam => `<option value="${tam}">${tam} - R$ ${p.opcoes[tam].toFixed(2)}</option>`).join("")}
</select>
` : ""}


          </div>
          <div class="item-controles">
            <button style="background:#ff0000;" onclick="remover('${p.nome}')">‚àí</button>
            <span id="${idQtd}">0</span>
            <button style="background:#ffcc00; color:black;" onclick="adicionar('${p.nome}')">+</button>
          </div>
        </div>`;
      });

      html += `</div></div>`;
    }
  });

  menuDiv.innerHTML = html;

  // acorde√£o
  document.querySelectorAll('.categoria h2').forEach(h2 => {
    h2.addEventListener('click', () => {
      const todas = document.querySelectorAll('.itens');
      const esta = h2.nextElementSibling;
      todas.forEach(div => {
        if (div !== esta) {
          div.style.height = '0';
          div.style.padding = '0 10px';
        }
      });
      if (esta.style.height && esta.style.height !== '0px') {
        esta.style.height = esta.scrollHeight + 'px';
        requestAnimationFrame(() => {
          esta.style.height = '0';
          esta.style.padding = '0 10px';
        });
      } else {
        esta.style.height = esta.scrollHeight + 'px';
        esta.style.padding = '10px';
        esta.addEventListener('transitionend', function ajustarAltura() {
          if (esta.style.height !== '0px') esta.style.height = 'auto';
          esta.removeEventListener('transitionend', ajustarAltura);
        });
      }
    });
  });
}

gerarMenu();
  
    function imprimirPedido() {
    if (carrinho.length === 0) {
        alert("N√£o h√° itens no pedido para imprimir.");
        return;
    }

    const nomeCliente = document.getElementById("nomeCliente").value.trim();
    if (!nomeCliente) return alert("Digite o nome do cliente.");
    const numMesa = document.getElementById("numMesa").value.trim();
    if (!numMesa) return alert("Selecione a mesa.");

    const dataHora = new Date().toLocaleString("pt-BR", {
        dateStyle: "short",
        timeStyle: "medium"
    });

    let txt = "";
    txt += "   T√î CHEGANDO BAR\n";
    txt += "-----------------------------\n";
    txt += `Cliente: ${nomeCliente}\n`;
    txt += `Mesa: ${numMesa}\n`;
    txt += `Data/Hora: ${dataHora}\n`;
    txt += "-----------------------------\n\n";

    let subtotal = 0;
    let grupos = { Bebidas: "", Petiscos: "", Cigarros: "", Diversos: "", Bingo: "" };

    carrinho.forEach(item => {
        const total = item.preco * item.qtd;
        subtotal += total;

        const linha = `${item.qtd}x ${item.nome}${item.sabor ? ` (${item.sabor})` : ""} - R$ ${total.toFixed(2)}\n`;

        if (["Cervejas","Sucos","Refrigerantes","√Åguas","Drinks","Energ√©ticos","Vinhos","Destilados"].includes(item.categoria))
            grupos.Bebidas += linha;
        else if (["Espetinhos","Individuais","Por√ß√µes"].includes(item.categoria))
            grupos.Petiscos += linha;
        else if (item.categoria === "Cigarros")
            grupos.Cigarros += linha;
        else if (item.categoria === "Bingo")
            grupos.Bingo += linha;
        else
            grupos.Diversos += linha;
    });

    for (let sec in grupos) {
        if (grupos[sec]) {
            txt += `== ${sec} ==\n`;
            txt += grupos[sec] + "\n";
        }
    }

    const taxa = document.getElementById("gorjeta").checked ? subtotal * 0.1 : 0;
    const totalFinal = subtotal + taxa;

    txt += "-----------------------------\n";
    txt += `Subtotal: R$ ${subtotal.toFixed(2)}\n`;
    txt += `Taxa 10% opcional: R$ ${taxa.toFixed(2)}\n`;
    txt += `TOTAL: R$ ${totalFinal.toFixed(2)}\n`;
    txt += "-----------------------------\n\n";
    txt += "Obrigado pela prefer√™ncia!\n";

    // Criar arquivo TXT
    const blob = new Blob([txt], { type: "text/plain" });
    const url = URL.createObjectURL(blob);

    // Criar link de download/abertura
    const a = document.createElement("a");
    a.href = url;
    a.download = "pedido.txt";
    a.click();

    // Alguns apps de impress√£o abrem automaticamente o arquivo TXT
    setTimeout(() => {
        URL.revokeObjectURL(url);
    }, 2000);
}

</script>

  

</body>
</html>
